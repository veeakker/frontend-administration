{{page-title "Edit"}}

<div class="container">
  <Ux::PageHeader @model={{@model}} @kind="edit" />

  <form {{on "submit" (e/pipe (e/prevent-default) this.persist)}}>
    <div class="row">
      <Ux::DetailsCard @editable={{true}} @resource={{@model}} class="col-12" @title="Details" as |C|>
        <C.Property @property="label" />
        <C.Property @property="sortIndex" />
      </Ux::DetailsCard>
    </div>

    <div class="row">
      <Ux::DetailsCard @editable={{true}} @resource={{@model}} class="col-6 col-s-12">
        <:title>Products</:title>
        <:body as |C|>
          <C.Card.Section @title="Spotlight">
            TODO
          </C.Card.Section>
          <C.Card.Section @title="All">
            <C.Property @renderLabel={{false}} @property="products" />
          </C.Card.Section>
        </:body>
      </Ux::DetailsCard>

      <Ux::DetailsCard @editable={{true}} @resource={{@model}} class="col-6 col-s-12">
        <:title>Nesting</:title>
        <:body as |C|>
          <C.Card.Section @title="Parent groups">
            <C.Property @renderLabel={{false}} @property="parentGroups" />
          </C.Card.Section>
          <C.Card.Section @title="Nested groups">
            <C.Property @renderLabel={{false}} @property="childGroups" />
          </C.Card.Section>
        </:body>
      </Ux::DetailsCard>
    </div>

    <div class="row p-2">
      <BsButton type="submit" @type="primary" class="col-6 col-s-12">Save</BsButton>
      <BsButton
        {{on "click" this.destroy}}
        @type="danger"
        type="button"
        class="col-6 col-s-12">
        Delete
      </BsButton>
    </div>
  </form>
</div>


{{outlet}}